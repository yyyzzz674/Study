<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // es6之前 字符串以16位字符编码(UCS-2:UTF-16的一种)位基础
      // UTF-16 代理对 允许使用两个16位码元来表示单个代码点
      // es5中，所有字符串操作都基于16位码元
      var text = "a"
      console.log(text.length)
      console.log(/^.$/u.test(text))
      console.log(text.charAt(0))
      console.log(text.charCodeAt(0))

      console.log(text.codePointAt(0))
      console.log(String.fromCodePoint(134071))

      function codePointLength(text) {
        var result = text.match(/[\s\s]/gu)
        return result ? result.length : 0
      }
      console.log(codePointLength("abc"))

      console.log("------------------------------------")

      //识别子字符串的方法
      let str = "abcHello world!"
      // indexOf 搜索子字符串，匹配到，输出第一个字符出现的位置
      console.log(str.indexOf("Hello")) // 3
      // lastIndexof
      console.log(str.lastIndexOf("d")) // 13
      // includes 在给定文本存在于字符串中的任意位置时会返回true,否则返回false
      console.log(str.includes("o")) // true
      console.log(str.includes("x")) // false
      console.log(str.includes("rl")) // true
      // startsWith 在给定文本出现在字符串起始处时返回true,否则返回false
      console.log(str.startsWith("a")) // true
      console.log(str.startsWith("ac")) // false
      // endWith 在给定文本出现在字符串结尾处时返回true,否则返回false
      console.log(str.endsWith("!")) // true
      console.log(str.endsWith("d!")) // true
      console.log(str.endsWith("l!")) // false
      // 每个方法都接受两个参数:需要搜索的文本以及可选的搜索起始位置索引
      // 当第二个参数提供时,indexOf、startsWith、endsWith会从该索引位置开始尝试匹配
      // endsWith 从将该参数所指的位置开始检索
      // 当第二个方法未提供时,indexOf、startsWith、endsWith默认从开始处查找,endWith从尾部开始
      console.log(str.indexOf("c", 5)) // -1
      console.log(str.includes("o", 4)) // true
      console.log(str.startsWith("el", 4)) // true
      console.log(str.length)
      console.log(str.endsWith("o", 11)) // true

      // repeat 接受一个参数作为字符串的重复次数
      // 返回一个将初始字符串重复指定次数的新字符串
      console.log("xsc".repeat(3)) // xscxscxsc
    </script>
  </body>
</html>

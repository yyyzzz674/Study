<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body id="container">
    <script>
      // 安全模式创建的工厂类
      let Factory = function (type, content) {
        if (this instanceof Factory) {
          let s = new this[type](content)
        } else {
          return new Factory(type, content)
        }
      }
      // 工厂原型中设置所有类型数据对象的基类
      Factory.prototype = {
        Java: function (content) {
          console.log(content)
        },
        JavaScript: function (content) {
          console.log(content)
        },
        UI: function (content) {
          this.content = content
          ;(function (content) {
            let div = document.createElement('div')
            div.innerHTML = content
            div.style.border = '1px solid red'
            document.getElementById('container').appendChild(div)
          })(content)
        }
      }

      let data = [
        { type: 'Java', content: 'Java' },
        { type: 'JavaScript', content: 'JavaScript' },
        { type: 'UI', content: 'UI' }
      ]

      for (let i of data) {
        Factory(i.type, i.content)
      }
    </script>
  </body>
</html>
